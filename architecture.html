<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI English Learning System - System Architecture</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Outfit', sans-serif;
            background-color: #0B0E14;
            color: #ffffff;
            overflow-x: auto;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        /* Glassmorphism Card Style */
        .layer-card {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 24px;
            padding: 2rem;
            position: absolute;
            width: 380px;
            height: 380px;
            box-shadow: 0 20px 40px -10px rgba(0, 0, 0, 0.6);
            transition: transform 0.3s ease;
        }

        .layer-card:hover {
            border-color: rgba(56, 189, 248, 0.2);
            transform: translateY(-2px);
        }

        /* Node Style */
        .node {
            background: #1E293B;
            border: 1px solid #334155;
            padding: 10px 16px;
            border-radius: 10px;
            text-align: center;
            font-weight: 600;
            color: #E2E8F0;
            position: absolute;
            z-index: 20;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.4);
            font-size: 0.9rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .node-primary {
            border-color: #38BDF8;
            color: #38BDF8;
            background: rgba(56, 189, 248, 0.08);
        }

        .node-green {
            border-color: #4ADE80;
            color: #4ADE80;
            background: rgba(74, 222, 128, 0.08);
        }

        /* Diamond shape for AI */
        .diamond-container {
            width: 90px;
            height: 90px;
            display: flex;
            align-items: center;
            justify-content: center;
            transform: rotate(45deg);
            background: rgba(192, 132, 252, 0.1);
            border: 2px solid #C084FC;
            border-radius: 12px;
            box-shadow: 0 0 15px rgba(192, 132, 252, 0.15);
            position: absolute;
            z-index: 20;
        }

        .diamond-text {
            transform: rotate(-45deg);
            text-align: center;
            font-weight: 700;
            color: #fff;
            font-size: 0.85rem;
            width: 120px;
            line-height: 1.2;
        }

        /* SVG Connections */
        svg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 10;
        }

        .path-base {
            fill: none;
            stroke: #334155;
            stroke-width: 2;
            opacity: 0.5;
        }

        .path-anim {
            fill: none;
            stroke: url(#gradient-flow);
            stroke-width: 3;
            stroke-linecap: round;
            stroke-dasharray: 20 180;
            animation: dash 1.5s linear infinite;
        }

        @keyframes dash {
            to {
                stroke-dashoffset: -200;
            }
        }

        /* Canvas Setup */
        .canvas {
            position: relative;
            width: 1400px;
            height: 500px;
            transform-origin: center center;
            margin: auto;
        }

        /* Cards Layout */
        .l1 {
            top: 60px;
            left: 40px;
        }

        .l2 {
            top: 60px;
            left: 510px;
        }

        .l3 {
            top: 60px;
            left: 980px;
        }

        .layer-title {
            position: absolute;
            top: -12px;
            left: 20px;
            background: #0B0E14;
            padding: 0 8px;
            color: #94A3B8;
            font-size: 0.8rem;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            font-weight: 700;
        }

        .flow-label {
            background: #0F172A;
            color: #93C5FD;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            position: absolute;
            white-space: nowrap;
            border: 1px solid #1E293B;
            z-index: 30;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
            transform: translate(-50%, -50%);
            /* Center label on point */
        }
    </style>
</head>

<body>

    <div class="canvas">

        <svg id="connections">
            <defs>
                <linearGradient id="gradient-flow" x1="0%" y1="0%" x2="100%" y2="0%">
                    <stop offset="0%" style="stop-color:#38BDF8;stop-opacity:0" />
                    <stop offset="50%" style="stop-color:#38BDF8;stop-opacity:1" />
                    <stop offset="100%" style="stop-color:#818CF8;stop-opacity:1" />
                </linearGradient>
                <marker id="arrowhead" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
                    <polygon points="0 0, 6 2, 0 4" fill="#475569" />
                </marker>
                <marker id="arrowhead-active" markerWidth="6" markerHeight="4" refX="5" refY="2" orient="auto">
                    <polygon points="0 0, 6 2, 0 4" fill="#818CF8" />
                </marker>
            </defs>

            <!-- 
                PIXEL PERFECT COORDINATES (Y Axis centered at 200px)
                
                L1 React: Right Edge = (40+50+200) = 290px
                L2 Postgres: Left Edge = (510+100) = 610px. Right Edge = 790px. Center X = 700.
                L3 Worker: Left Edge = (980+30) = 1010px. Right Edge = 1150px. Center X = 1080.
                L3 Gemini: Left Edge = (1230)px. Center X = 1275px. 

                Y-Planes:
                Top Plane (Main Flow): y=200
                Return Plane (Curve Bottom): y=~260
                Vertical Trigger Drop: y=240 -> y=340
            -->

            <!-- 1. URL Input: React(290, 200) -> Postgres(610, 200) -->
            <path d="M 290 200 L 610 200" class="path-base" marker-end="url(#arrowhead)"></path>
            <path d="M 290 200 L 610 200" class="path-anim" marker-end="url(#arrowhead-active)"></path>

            <!-- 2. Poll: Postgres(790, 200) -> Worker(1010, 200) -->
            <path d="M 790 200 L 1010 200" class="path-base" marker-end="url(#arrowhead)"></path>
            <path d="M 790 200 L 1010 200" class="path-anim" marker-end="url(#arrowhead-active)"></path>

            <!-- 3. Analyze: Worker(1150, 200) -> Gemini(1230, 200) -->
            <path d="M 1150 200 L 1230 200" class="path-base" marker-end="url(#arrowhead)"></path>
            <path d="M 1150 200 L 1230 200" class="path-anim" marker-end="url(#arrowhead-active)"></path>

            <!-- 4. JSON: Gemini Bottom(1275, 245) -> Worker Bottom(1080, 240) -->
            <path d="M 1275 245 Q 1177 300 1080 240" class="path-base" marker-end="url(#arrowhead)"></path>
            <path d="M 1275 245 Q 1177 300 1080 240" class="path-anim" marker-end="url(#arrowhead-active)"></path>

            <!-- 5. Save: Worker Bottom(1080, 240) -> Postgres Bottom(700, 240) -->
            <path d="M 1080 240 Q 890 300 700 240" class="path-base" marker-end="url(#arrowhead)"></path>
            <path d="M 1080 240 Q 890 300 700 240" class="path-anim" marker-end="url(#arrowhead-active)"></path>

            <!-- 6. Notify: Postgres Bottom(700, 240) -> Realtime Top(700, 340) -->
            <path d="M 700 240 L 700 340" class="path-base" marker-end="url(#arrowhead)"></path>
            <path d="M 700 240 L 700 340" class="path-anim" marker-end="url(#arrowhead-active)"></path>

            <!-- 7. Update: Realtime Left(590, 370) -> React Bottom(190, 240) -->
            <!-- React Center X is 190. Bottom is 240 (160+80) -->
            <path d="M 590 370 Q 390 370 190 240" class="path-base" marker-end="url(#arrowhead)"></path>
            <path d="M 590 370 Q 390 370 190 240" class="path-anim" marker-end="url(#arrowhead-active)"></path>

        </svg>

        <!-- LABELS (Centered on lines) -->
        <div class="flow-label" style="top: 185px; left: 450px;">1. Insert URL</div>
        <div class="flow-label" style="top: 185px; left: 900px;">2. Poll Task</div>
        <div class="flow-label" style="top: 185px; left: 1190px;">3. AI</div>
        <div class="flow-label" style="top: 280px; left: 1180px; color:#C084FC; border-color:#C084FC;">4. JSON Data
        </div>
        <div class="flow-label" style="top: 280px; left: 890px;">5. Store Result</div>
        <div class="flow-label" style="top: 290px; left: 745px;">6. Trigger</div>
        <div class="flow-label" style="top: 370px; left: 450px;">7. Realtime Update</div>


        <!-- LAYER 1: Frontend -->
        <div class="layer-card l1">
            <span class="layer-title">Frontend Layer</span>

            <!-- React: Top 100, Left 50 -> Abs 160(top), 90(left). Center Y=200 -->
            <div class="node node-primary" style="top: 100px; left: 50px; width: 200px; height: 80px;">
                <div class="text-xl">React 18</div>
                <div class="text-xs text-sky-200 mt-1">Client Application</div>
            </div>

            <div class="node" style="bottom: 40px; left: 30px; width: 120px;">
                YouTube API
            </div>
            <div class="node" style="bottom: 40px; right: 30px; width: 120px;">
                Framer Motion
            </div>
        </div>

        <!-- LAYER 2: Backend -->
        <div class="layer-card l2">
            <span class="layer-title">Backend Layer</span>

            <!-- Postgres: Top 100 -> Abs 160(top). Center Y=200 -->
            <div class="absolute" style="top: 80px; left: 100px;">
                <div class="flex flex-col items-center">
                    <div class="w-14 h-16 relative mb-2">
                        <svg viewBox="0 0 24 24" fill="none" stroke="#4ADE80" stroke-width="1.5" stroke-linecap="round"
                            stroke-linejoin="round" class="w-full h-full">
                            <ellipse cx="12" cy="5" rx="9" ry="3"></ellipse>
                            <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"></path>
                            <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"></path>
                        </svg>
                    </div>
                </div>
            </div>
            <div class="node node-green"
                style="top: 100px; left: 100px; width: 180px; height: 80px; padding-top: 50px;">
                PostgreSQL
            </div>

            <!-- Realtime: Abs Top 340 -->
            <div class="node" style="bottom: 40px; left: 80px; width: 220px; height: 60px;">
                <div class="text-blue-300 text-lg">Realtime Engine</div>
            </div>
        </div>

        <!-- LAYER 3: Intelligence -->
        <div class="layer-card l3">
            <span class="layer-title">AI Layer</span>

            <!-- Worker: Top 100 -> Abs 160(top). Center Y=200 -->
            <div class="node" style="top: 100px; left: 30px; width: 140px; height: 80px;">
                <div class="text-blue-400 font-bold mb-1">Python Worker</div>
                <div class="text-xs text-green-400">‚óè Active</div>
            </div>

            <!-- Gemini: Top 95 -> Center Y=200 -->
            <div class="diamond-container" style="top: 95px; right: 40px;">
                <div class="diamond-text">Gemini 1.5<br><span class="text-xs font-normal opacity-80">Pro</span></div>
            </div>

            <div class="node"
                style="bottom: 40px; right: 40px; width: 120px; font-size: 0.8rem; border-style: dashed; opacity: 0.6;">
                Key Rotation
            </div>
        </div>

    </div>
</body>

</html>